//- views/users/motos.pug
extends ../layout/default.pug

block content
    .container
        h1 Nuestra Galería de Motos

        .filters-section
            h3 Filtrar Motos
            form.filters-form(action="/motos" method="GET")
                .filter-group
                    label(for="category") Categoría:
                    select#category(name="category")
                        option(value="") Todas
                        each cat in allCategories
                            option(value=cat, selected=cat === currentCategory)= cat
                .filter-group
                    label(for="transmission") Transmisión:
                    select#transmission(name="transmission")
                        option(value="") Todas
                        each trans in allTransmissions
                            option(value=trans, selected=trans === currentTransmission)= trans
                .filter-group
                    label(for="minPrice") Precio Mínimo:
                    input#minPrice(type="number" name="minPrice", value=currentMinPrice)
                .filter-group
                    label(for="maxPrice") Precio Máximo:
                    input#maxPrice(type="number" name="maxPrice", value=currentMaxPrice)
                .filter-group
                    label(for="query") Buscar:
                    input#query(type="text" name="query" placeholder="Buscar por marca, modelo...")
                button.btn(type="submit") Aplicar Filtros

        .motos-gallery
            if motos && motos.length > 0
                each moto in motos
                    .moto-card
                        img(src=moto.main_image, alt=moto.brand + ' ' + moto.model)
                        h3 #{moto.brand} #{moto.model}
                        p.price Precio: #{parseFloat(moto.price).toLocaleString('es-CO', { style: 'currency', currency: 'COP' })}
                        p.category Categoría: #{moto.category}
                        p.transmission Transmisión: #{moto.transmission}
                        a.btn.btn--small(href="/motos/" + moto.id) Ver Detalles
            else
                p No se encontraron motos con los filtros aplicados.